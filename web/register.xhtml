<ui:composition template="WEB-INF/template/master.xhtml"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:f="http://xmlns.jcp.org/jsf/core">
    <ui:define name="content">
        <style type="text/css">
            .form-signin {
              width: 100%;
              max-width: 420px;
              padding: 15px;
              margin: 0 auto;
            }
            .form-signin .checkbox {
              font-weight: 400;
            }
            .form-signin .form-control {
              position: relative;
              box-sizing: border-box;
              height: auto;
              padding: 10px;
              font-size: 16px;
            }
            .form-signin .form-control:focus {
              z-index: 2;
            }
            .form-signin input[type="email"] {
              margin-bottom: -1px;
              border-bottom-right-radius: 0;
              border-bottom-left-radius: 0;
            }
            .form-signin input[type="password"] {
              margin-bottom: 10px;
              border-top-left-radius: 0;
              border-top-right-radius: 0;
            }
        </style>
        <div class="text-center">
            <h:form class="form-signin" id="register-form">
            <ui:fragment rendered="#{!registerBean.registered}">
            <h1 class="h3 mb-3 font-weight-normal">Registrieren</h1>
            <div style="color:#ff0000;"><h:message for="lastname" showSummary="true" showDetail="false" /></div>
            <h:outputLabel for="lastname" value="Name" />
            <h:inputText styleClass="form-control" id="lastname" value="#{registerBean.lastname}"
                         validator="#{registerBean.validateLastName}" />
            <div style="color:#ff0000;"><h:message for="firstname" showSummary="true" showDetail="false" /></div>
            <h:outputLabel for="firstname" value="Vorname" />
            <h:inputText styleClass="form-control" id="firstname" value="#{registerBean.firstname}">
                <f:validateRegex pattern="([A-Z][a-z]+)([- ][A-Z][a-z]+)*" for="firstname" />
            </h:inputText>
            <div style="color:#ff0000;"><h:message for="street" showSummary="true" showDetail="false" /></div>
            <h:outputLabel for="street" value="StraÃŸe" />
            <h:inputText styleClass="form-control" id="street" value="#{registerBean.street}">
                <f:validateRegex pattern="([A-Z][a-z]+\.?)([- ][A-Z][a-z]+\.?)*" for="street" />
            </h:inputText>
            <div style="color:#ff0000;"><h:message for="streetNr" showSummary="true" showDetail="false" /></div>
            <h:outputLabel for="streetNr" value="Hausnummer" />
            <h:inputText styleClass="form-control" id="streetNr" value="#{registerBean.streetNr}">
                <f:validateRegex pattern="[1-9][0-9]*[a-zA-Z]*" for="streetNr" />
            </h:inputText>
            <div style="color:#ff0000;"><h:message for="city" showSummary="true" showDetail="false" /></div>
            <h:outputLabel for="city" value="Stadt" />
            <h:inputText styleClass="form-control" id="city" value="#{registerBean.city}">
                <f:validateRegex pattern="([A-Z][a-z]+)([- ][A-Z][a-z]+)*" for="city" />
            </h:inputText>
            <div style="color:#ff0000;"><h:message for="postcode" showSummary="true" showDetail="false" /></div>
            <h:outputLabel for="postcode" value="Postleitzahl" />
            <h:inputText styleClass="form-control" id="postcode" value="#{registerBean.postcode}">
                <f:validateRegex pattern="[1-9][0-9]{4}" for="postcode" />
            </h:inputText>
            <div style="color:#ff0000;"><h:message for="email" showSummary="true" showDetail="false" /></div>
            <h:outputLabel for="email" value="EMail Adresse" />
            <h:inputText styleClass="form-control" id="email" value="#{registerBean.email}">
                <f:validator validatorId="emailValidator"/>
            </h:inputText>
            <div style="color:#ff0000;"><h:message for="phone" showSummary="true" showDetail="false"/></div>
            <h:outputLabel for="phone" value="Telefon" />
            <h:inputText styleClass="form-control" id="phone" value="#{registerBean.phone}"
                         validator="#{registerBean.validatePhone}" />
            <div style="color:#ff0000;"><h:message for="username" showSummary="true" showDetail="false"/></div>
            <h:outputLabel for="username" value="Benutzername" />
            <h:inputText styleClass="form-control" id="username" value="#{registerBean.username}">
                <f:validateRegex pattern="[a-zA-Z_0-9]{3,50}" for="username"/>
            </h:inputText>
            <div style="color:#ff0000;"><h:message for="password" showSummary="true" showDetail="false"/></div>
            <h:outputLabel for="password" value="Passwort" />
            <h:inputSecret styleClass="form-control" id="password" value="#{registerBean.password}">
                <f:validator validatorId="pwdValidator"/>
            </h:inputSecret>
            <h:outputLabel for="password" value="Passwort wdh." />
            <h:inputSecret styleClass="form-control" id="passwordRepeat" value="#{registerBean.passwordRepeat}" />
            <!--<input type="password" id="inputPassword" class="form-control" placeholder="Password" required>-->
            <h:commandButton styleClass="btn btn-lg btn-primary btn-block" value="Sign in"
                             action="#{registerBean.register}"/>
            </ui:fragment>
          </h:form>
        </div>
   </ui:define>
</ui:composition>
